(this["webpackJsonppexeso-game-source"]=this["webpackJsonppexeso-game-source"]||[]).push([[0],{25:function(e,a,t){},28:function(e,a,t){},29:function(e,a,t){"use strict";t.r(a);var s=t(1),c=t.n(s),n=t(7),i=t.n(n),r=t(2),d=(t(25),t(3)),l=t(11),o=t(14),m=t(4),j=t(6);var u=function(e){for(var a=e.length-1;a>0;a--){var t=Math.floor(Math.random()*(a+1)),s=[e[t],e[a]];e[a]=s[0],e[t]=s[1]}return e},b=Object(m.b)({name:"board",initialState:{compare:[],cards:[],size:12,time:1500,gameTime:0,isGameWin:!1,cardsType:"animals",difficult:"\u041b\u0451\u0433\u043a\u0430\u044f",showModal:!1},reducers:{setOption:{reducer:function(e,a){e[a.payload.type]=a.payload.value},prepare:function(e,a){return{payload:{type:e,value:a}}}},generateCards:function(e){for(var a=[],t=[],s=e.cardsType,c=e.size/2,n=0;n<c;n++)a.push({id:Object(m.c)(),name:j[s][n].name,path:j[s][n].path,clicked:!1,done:!1}),t.push({id:Object(m.c)(),name:j[s][n].name,path:j[s][n].path,clicked:!1,done:!1});e.cards=u(a.concat(t))},clearCards:function(e){e.cards=[]},setClicked:function(e,a){var t=Object(o.a)(e.cards),s=t.map((function(s){if(s.id!==a.payload)return s;if(!s.clicked&&(e.compare.push(s),2===e.compare.length)){if(e.compare[0].name===e.compare[1].name&&e.compare[0].id!==e.compare[1].id)t.filter((function(e){return e.name===s.name})).forEach((function(e){return e.done=!0}));e.compare=[]}return Object(l.a)(Object(l.a)({},s),{},{clicked:!s.clicked})}));e.cards=s},closeCards:function(e){e.cards.forEach((function(e){return!0===e.clicked&&!1===e.done&&(e.clicked=!1),e}))},showModal:function(e,a){e.showModal=a.payload}}}),p=b.actions,h=p.setOption,g=p.generateCards,f=p.clearCards,O=p.setClicked,x=p.closeCards,v=p.showModal,_=b.reducer;var k=function(e){var a=("0"+Math.floor(e/6e4%60)).slice(-2),t=("0"+Math.floor(e/1e3%60)).slice(-2);return"".concat(a,":").concat(t)},N=t(0),w=function(e){var a=e.isGameStarted,t=Object(r.c)((function(e){return e.board.isGameWin})),c=Object(s.useState)(0),n=Object(d.a)(c,2),i=n[0],l=n[1],o=Object(r.b)();return Object(s.useEffect)((function(){var e=null;return a&&!t?e=setInterval((function(){l((function(e){return e+10}))}),10):t&&i>0?(o(h("gameTime",i)),clearInterval(e),o(v(!0)),l(0)):(clearInterval(e),l(0)),function(){return clearInterval(e)}}),[i,a,t,o]),Object(N.jsx)("div",{className:"stopwatch",children:k(i)})},y=function(){var e=Object(r.c)((function(e){return e.board.cards})),a=Object(r.c)((function(e){return e.board.cardsType})),t=Object(r.c)((function(e){return e.board.time})),c=Object(r.b)(),n=Object(s.useState)(!0),i=Object(d.a)(n,2),l=i[0],o=i[1];return Object(s.useEffect)((function(){e.filter((function(e){return!0===e.clicked&&!1===e.done})).length>1&&(o(!1),setTimeout((function(){c(x()),o(!0)}),t))}),[e,t,c]),Object(s.useEffect)((function(){e.length>0&&(e.every((function(e){return!0===e.done}))&&c(h("isGameWin",!0)))}),[e,c]),Object(N.jsx)(N.Fragment,{children:0!==e.length&&e.map((function(e){return Object(N.jsx)("div",{className:"card card__wrapper "+a,children:Object(N.jsxs)("div",{className:"card__single card-".concat(e.clicked?"opened":"closed"," card-").concat(e.done?"done":"undone"),onClick:!e.done&&l?function(){return c(O(e.id))}:void 0,children:[Object(N.jsx)("div",{className:"card__content card-front"}),Object(N.jsx)("div",{className:"card__content card-back",children:Object(N.jsx)("img",{src:e.path,alt:""})})]})},e.id)}))})},C=function(){var e=Object(r.c)((function(e){return e.board.cards})),a=Object(s.useState)(""),t=Object(d.a)(a,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){var a=e.length;n(a>=0&&a<13?"easy":a>12&&a<32?"medium":"hard")}),[c,e]),Object(N.jsx)("div",{className:"board ".concat(c),children:Object(N.jsx)(y,{})})},S=function(e){var a=e.isGameStarted,t=e.setGameStart,s=Object(r.b)(),c=Object(r.c)((function(e){return e.board.difficult}));return Object(N.jsxs)("div",{className:"game container",children:[Object(N.jsxs)("div",{className:"game__info",children:[Object(N.jsxs)("div",{className:"game__controls",children:[a?Object(N.jsx)("button",{className:"btn btn-primary btn-show-settings",onClick:function(){s(f()),s(h("isGameWin",!1)),t(!1)},children:"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0433\u0440\u0443"}):Object(N.jsx)("button",{className:"btn btn-primary btn-show-settings",onClick:function(){s(g()),t(!0)},children:"\u0418\u0433\u0440\u0430\u0442\u044c"}),Object(N.jsx)("button",{className:"btn btn-primary btn-show-settings",disabled:a,onClick:function(){return s(v(!0))},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),Object(N.jsxs)("div",{className:"game__difficult",children:["\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c: ",Object(N.jsx)("span",{className:"bold",children:c})]})]}),Object(N.jsxs)("div",{className:"game__stopwatch",children:[Object(N.jsx)(w,{isGameStarted:a}),Object(N.jsx)("div",{className:"divider"})]}),Object(N.jsx)("div",{className:"game__content row",children:Object(N.jsx)("div",{className:"game__board col s12",children:Object(N.jsx)(C,{})})})]})},G=t(13),M=t.n(G),T=function(){var e=Object(s.useRef)(null),a=Object(r.b)(),t=Object(r.c)((function(e){return e.board.difficult})),c=Object(r.c)((function(e){return e.board.cardsType}));return Object(s.useEffect)((function(){M.a.FormSelect.init(e.current)}),[]),Object(N.jsxs)("div",{className:"settings",children:[Object(N.jsx)("div",{className:"settings__select-cards row",children:Object(N.jsxs)("div",{className:"settings__input input-field col s12",children:[Object(N.jsxs)("select",{ref:e,defaultValue:c,className:"settings__select icons",onChange:function(e){return a(h("cardsType",e.target.value))},children:[Object(N.jsx)("option",{value:"animals","data-icon":"assets/icons/animals-icon.jpg",children:"\u0416\u0438\u0432\u043e\u0442\u043d\u044b\u0435"}),Object(N.jsx)("option",{value:"cards","data-icon":"assets/icons/cards-icon.jpg",children:"\u0418\u0433\u0440\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b"})]}),Object(N.jsx)("label",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a"})]})}),Object(N.jsxs)("div",{className:"settings__select-diff",children:[Object(N.jsx)("div",{className:"settings__label center",children:Object(N.jsx)("h5",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c"})}),Object(N.jsx)("div",{className:"settings__form-diff row",children:Object(N.jsxs)("form",{onChange:function(e){return function(e){a(h("size",e.target.dataset.size)),a(h("time",e.target.dataset.time)),a(h("difficult",e.target.value))}(e)},className:"col s12 m-l",children:[Object(N.jsx)("div",{children:Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{className:"with-gap",value:"\u041b\u0451\u0433\u043a\u0430\u044f","data-size":"12","data-time":"1500",type:"radio",name:"difficult",id:"easy",defaultChecked:"\u041b\u0451\u0433\u043a\u0430\u044f"===t}),Object(N.jsx)("span",{children:"\u041b\u0451\u0433\u043a\u0430\u044f"})]})}),Object(N.jsx)("div",{children:Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{className:"with-gap",value:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f","data-size":"24","data-time":"1000",type:"radio",name:"difficult",id:"medium",defaultChecked:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f"===t}),Object(N.jsx)("span",{children:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f"})]})}),Object(N.jsx)("div",{children:Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{className:"with-gap",value:"\u0412\u044b\u0441\u043e\u043a\u0430\u044f","data-size":"32","data-time":"600",type:"radio",name:"difficult",id:"hard",defaultChecked:"\u0412\u044b\u0441\u043e\u043a\u0430\u044f"===t}),Object(N.jsx)("span",{children:"\u0412\u044b\u0441\u043e\u043a\u0430\u044f"})]})})]})})]})]})},q=function(){var e=Object(r.c)((function(e){return e.board.gameTime})),a=Object(r.b)();return Object(N.jsxs)("div",{className:"win",children:[Object(N.jsx)("div",{className:"win__text center",children:"\u0412\u044b \u043f\u043e\u0431\u0435\u0434\u0438\u043b\u0438!"}),Object(N.jsxs)("div",{className:"win__time",children:["\u0412\u0430\u0448\u0435 \u0432\u0440\u0435\u043c\u044f: ",Object(N.jsx)("span",{className:"bold",children:k(e)})]}),Object(N.jsx)("div",{className:"win__button",children:Object(N.jsx)("button",{className:"btn btn-success",onClick:function(){a(h("isGameWin",!1)),a(v(!1)),a(f()),a(g())},children:"\u0421\u044b\u0433\u0440\u0430\u0442\u044c \u0435\u0449\u0451"})})]})},E=function(e){var a=e.header,t=e.children,s=Object(r.c)((function(e){return e.board.showModal})),c=Object(r.b)();return Object(N.jsxs)(N.Fragment,{children:[" ",s&&Object(N.jsx)("div",{className:"modal",onClick:function(){return c(v(!1))},children:Object(N.jsxs)("div",{className:"modal__content",onClick:function(e){return e.stopPropagation()},children:[Object(N.jsx)("div",{className:"modal__header",children:Object(N.jsx)("h4",{children:a})}),Object(N.jsx)("div",{className:"modal__body",children:t}),Object(N.jsx)("div",{className:"modal__footer",children:Object(N.jsx)("button",{className:"btn btn-primary",onClick:function(){return c(v(!1))},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})})]})};t(28);function z(){var e=Object(s.useState)(!1),a=Object(d.a)(e,2),t=a[0],c=a[1],n=Object(r.c)((function(e){return e.board.isGameWin}));return Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(S,{isGameStarted:t,setGameStart:function(e){return c(e)}}),Object(N.jsx)(E,{header:n?"\u0423\u0440\u0430!":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",children:n?Object(N.jsx)(q,{}):Object(N.jsx)(T,{})})]})}var W=Object(m.a)({reducer:{board:_}});window.store=W;var I=W;i.a.render(Object(N.jsx)(r.a,{store:I,children:Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(z,{})})}),document.getElementById("root"))},6:function(e){e.exports=JSON.parse('{"animals":[{"name":"bear","path":"assets/images/animals/bear.jpg"},{"name":"camel","path":"assets/images/animals/camel.jpg"},{"name":"cow","path":"assets/images/animals/cow.jpg"},{"name":"crocodile","path":"assets/images/animals/crocodile.jpg"},{"name":"deer","path":"assets/images/animals/deer.jpg"},{"name":"elephant","path":"assets/images/animals/elephant.jpg"},{"name":"fox","path":"assets/images/animals/fox.jpg"},{"name":"giraffe","path":"assets/images/animals/giraffe.jpg"},{"name":"horse","path":"assets/images/animals/horse.jpg"},{"name":"lion","path":"assets/images/animals/lion.jpg"},{"name":"monkey","path":"assets/images/animals/monkey.jpg"},{"name":"rabbit","path":"assets/images/animals/rabbit.jpg"},{"name":"rat","path":"assets/images/animals/rat.jpg"},{"name":"snake","path":"assets/images/animals/snake.jpg"},{"name":"tiger","path":"assets/images/animals/tiger.jpg"},{"name":"turtle","path":"assets/images/animals/turtle.jpg"}],"cards":[{"name":"club-ace","path":"assets/images/cards/club-ace.jpg"},{"name":"club-king","path":"assets/images/cards/club-king.jpg"},{"name":"club-queen","path":"assets/images/cards/club-queen.jpg"},{"name":"club-jack","path":"assets/images/cards/club-jack.jpg"},{"name":"heart-ace","path":"assets/images/cards/heart-ace.jpg"},{"name":"heart-king","path":"assets/images/cards/heart-king.jpg"},{"name":"heart-queen","path":"assets/images/cards/heart-queen.jpg"},{"name":"heart-jack","path":"assets/images/cards/heart-jack.jpg"},{"name":"spade-ace","path":"assets/images/cards/spade-ace.jpg"},{"name":"spade-king","path":"assets/images/cards/spade-king.jpg"},{"name":"spade-queen","path":"assets/images/cards/spade-queen.jpg"},{"name":"spade-jack","path":"assets/images/cards/spade-jack.jpg"},{"name":"diamond-ace","path":"assets/images/cards/diamond-ace.jpg"},{"name":"diamond-king","path":"assets/images/cards/diamond-king.jpg"},{"name":"diamond-queen","path":"assets/images/cards/diamond-queen.jpg"},{"name":"diamond-jack","path":"assets/images/cards/diamond-jack.jpg"}]}')}},[[29,1,2]]]);
//# sourceMappingURL=main.adc08375.chunk.js.map